type Account @entity {
  id: ID!
  accountId: BigInt!
  address: String!
  recoveryAddress: String!

  createdAtTimestamp: Int!
}

enum NodeType {
  UNKNOWN
  METALABEL
  SQUAD
  RELEASE
  DROP
  TREASURY
  SPLIT
}

type Node @entity {
  id: ID!
  nodeId: BigInt!
  nodeType: NodeType!
  metadata: String!
  owner: Account
  parent: Node
  accessNode: Node

  children: [Node!]! @derivedFrom(field: "parent")
  accessChildren: [Node!]! @derivedFrom(field: "accessNode")

  createdAtTimestamp: Int!
}
